(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{34480:(e,t,a)=>{Promise.resolve().then(a.bind(a,19257))},19257:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var n=a(95155),r=a(5565),s=a(12115);async function l(e){let{messages:t,setMessage:a}=e,n=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:t})});if(!n.body)throw Error("No response body");let r=n.body.getReader(),s=[],l=new TextDecoder("utf-8"),i="";for(;;){let{done:e,value:t}=await r.read();if(e)break;s.push(t),a(i=s.map(e=>l.decode(e)).join(""))}return i}var i=a(64566),o=a(51263),c=a(13218),u=a(25175),p=a(37442);let d=(0,s.memo)(c.$,(e,t)=>e.children===t.children&&e.className===t.className),h=(0,s.memo)(e=>{let{language:t,value:a}=e;return(0,n.jsxs)("div",{className:"relative w-full font-sans codeblock bg-zinc-950",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between w-full px-6 py-2 pr-4 rounded-t bg-zinc-800 text-zinc-100",children:[(0,n.jsx)("span",{className:"text-xs lowercase",children:t}),(0,n.jsx)("div",{className:"flex items-center space-x-1"})]}),(0,n.jsx)(i.A,{language:t,style:o.xJ,PreTag:"div",showLineNumbers:!0,customStyle:{margin:0,width:"100%",background:"transparent",padding:"1.5rem 1rem"},codeTagProps:{style:{fontSize:"0.9rem",fontFamily:"var(--font-mono)"}},children:a})]})});h.displayName="CodeBlock";let m=e=>(0,n.jsx)(d,{className:"prose break-words dark:prose-invert prose-p:leading-relaxed prose-pre:p-0",remarkPlugins:[u.A,p.A],components:{p(e){let{children:t}=e;return(0,n.jsx)("p",{className:"mb-2 last:mb-0",children:t})},code(e){let{node:t,inline:a,className:r,children:s,...l}=e;if(s&&s.length){if("▍"==s[0])return(0,n.jsx)("span",{className:"mt-1 cursor-default animate-pulse",children:"▍"});s[0]=s[0].replace("`▍`","▍")}let i=/language-(\w+)/.exec(r||"");return a?(0,n.jsx)("code",{className:r,...l,children:s}):(0,n.jsx)(h,{language:i&&i[1]||"",value:String(s).replace(/\n$/,""),...l},Math.random())}},children:e.children}),y=e=>{let{resumeText:t,jobDescriptionText:a,interviewType:n,payment:r}=e;return"CONTEXT: You are an expert interviewer. You specialize in conducting interviews for software engineers.\n-------\nFORMAT: In every message, you will receive a query from the user, the payment they are willing to pay you so you help them prepare for the interview,\nthe interview type they want to prepare for, the job description, and their resume.\n-------\nOBJECTIVE: Analyze the data you get and ask questions one by one based on the type of interview the user selected.\nThe quality of your help should be proportional to the amount of money the user is willing to pay you.\n-------\nINSTRUCTIONS: \n- If the user is willing to pay you a lot of money, do a very good job helping them. If they pay you little (less than $50), then barely help them, act lazy, mock them, \ncrack tech jokes, and even misguide them.\n- Start by asking the first question, then after the user finishes replying, ask the next one,\nwait for the user's reply, and continue like this.\n- Once you are done asking questions for the interview, provide a feedback to the user to help them improve.\n------------\nINTERVIEW TYPE: ".concat(n,"\n------------\nPAYMENT: ").concat(r,"\n------------\nRESUME: ").concat(t,"\n------------\nJOB DESCRIPTION: ").concat(a,"\n------------")},x={username:"User",id:1,avatarUrl:"/user-avatar.jpg"},v={username:"Bob The Interviewer",id:2,avatarUrl:"/bob.jpg"},g=e=>{let{initialText:t,interviewData:a}=e,[i,o]=(0,s.useState)(""),c={author:v,text:null!=t?t:"Hello, I am Bob the Interviewer. How can I help you?",type:"text",timestamp:+new Date},u={role:"user",content:y(a)},[p,d]=(0,s.useState)([c]),[h,g]=(0,s.useState)([u,{role:"assistant",content:null!=t?t:"Hello, I am Bob the Interviewer. How can I help you?"}]),f=(0,s.useRef)(null),w=()=>{let{offsetHeight:e,scrollHeight:t,scrollTop:a}=f.current;if(t>=a+e){var n;null===(n=f.current)||void 0===n||n.scrollTo(0,t+200)}};(0,s.useEffect)(()=>{w()},[p]);let j=async e=>{e.preventDefault();let t=e.currentTarget["input-field"].value;o(""),d(e=>[...e,{author:x,text:t,type:"text",timestamp:+new Date},{author:v,text:"...",type:"text",timestamp:+new Date}]);let a=[...h,{role:"user",content:t}],n=await l({messages:a,setMessage:e=>d(t=>[...t.slice(0,t.length-1),{author:v,text:e,type:"text",timestamp:+new Date}])});g(e=>[...e,{role:"user",content:t},{role:"assistant",content:n}])};return(0,n.jsxs)("div",{className:"chat",children:[(0,n.jsx)("div",{ref:f,className:"response",children:p.map((e,t)=>(0,n.jsxs)("div",{className:"chat-line ".concat("User"===e.author.username?"user-chat":"ai-chat"),children:[(0,n.jsx)(r.default,{className:"avatar",alt:"avatar",src:e.author.avatarUrl,width:32,height:32}),(0,n.jsxs)("div",{style:{width:592,marginLeft:"16px"},children:[(0,n.jsx)("div",{className:"message",children:(0,n.jsx)(m,{children:e.text})}),t<p.length-1&&(0,n.jsx)("div",{className:"horizontal-line"})]})]},t))}),(0,n.jsxs)("form",{onSubmit:j,className:"chat-form",children:[(0,n.jsx)("input",{name:"input-field",type:"text",placeholder:"Say anything",onChange:e=>o(e.target.value),value:i}),(0,n.jsx)("button",{type:"submit",className:"send-button"})]})]})},f=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,a=new DOMParser().parseFromString(e,"text/html").body.textContent||"",n=(a=(a=(a=(a=a.split("(opens in a new window)")[0]).replace(/\\u003c\/?p/g,"")).replace(/\\?\"static\/chunks\/[^\s]+/g,"")).replace(/\\?\$undefined\\?/g,"")).trim().split(/\s+/);return n.length>t?n.slice(0,t).join(" "):n.join(" ")},w=e=>{let{interviewData:t,setInterviewData:r,setIsLoading:l}=e,{interviewType:i}=t,[o,c]=(0,s.useState)(""),[u,p]=(0,s.useState)(""),d=e=>e.items.map(e=>{let{str:t,hasEOL:a}=e;return t+(a?"\n":"")}).join(""),h=async e=>{let t=await Promise.all([a.e(84),a.e(714)]).then(a.bind(a,56275));if(t.GlobalWorkerOptions.workerSrc="//unpkg.com/pdfjs-dist@".concat(t.version,"/build/pdf.worker.min.mjs"),!e)return;let n=new FileReader;n.onload=async e=>{var a;let n=null===(a=e.target)||void 0===a?void 0:a.result;n&&n instanceof ArrayBuffer&&t.getDocument(new Uint8Array(n)).promise.then(e=>{e.getPage(1).then(e=>{e.getTextContent().then(e=>{let t=d(e);r(e=>({...e,resumeText:t}))})})},e=>{console.error("Error during PDF loading: ".concat(e))})},n.readAsArrayBuffer(e)},m=async e=>{let t=await fetch("/api/scrapper",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e})}),a=f((await t.json()).textContent);r(e=>({...e,jobDescriptionText:a}))},y=async e=>{p(""),l(!0),r(e=>({...e,resumeText:""}));try{var t;let a=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!a){p("The PDF wasn't uploaded correcty."),l(!1);return}await m(o),await h(a)}catch(e){p("There was an error reading the resume. Please try again.")}};return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"input-group",children:[(0,n.jsx)("label",{htmlFor:"job-input",className:"input-label",children:"⚔️ Job description"}),(0,n.jsx)("input",{className:"input-style",name:"job-input",type:"url",placeholder:"Drop the url here",value:o,onChange:e=>c(e.target.value)})]}),(0,n.jsxs)("div",{className:"input-group",children:[(0,n.jsx)("label",{htmlFor:"interview-type",className:"input-label",children:"\uD83E\uDDE0 Interview Type"}),(0,n.jsxs)("select",{className:"input-style",name:"interview-type",value:i,onChange:e=>r(t=>({...t,interviewType:e.target.value})),children:[(0,n.jsx)("option",{value:"",children:"Select Interview Type"}),(0,n.jsx)("option",{value:"behavioral",children:"Behavioral"}),(0,n.jsx)("option",{value:"leetcode",children:"Leetcode"}),(0,n.jsx)("option",{value:"project",children:"Project"})]})]}),(0,n.jsxs)("div",{className:"input-group",children:[(0,n.jsx)("label",{htmlFor:"payment",className:"input-label",children:"\uD83D\uDE10 How much will you pay me"}),(0,n.jsx)("input",{className:"input-style",name:"payment",type:"text",placeholder:"The more money the better I will help",value:t.payment,onChange:e=>r(t=>({...t,payment:e.target.value}))})]}),(0,n.jsxs)("div",{className:"file-upload-btn-container",children:[(0,n.jsx)("input",{type:"file",id:"file-upload",onChange:y,accept:"application/pdf",hidden:!0}),(0,n.jsx)("label",{htmlFor:"file-upload",className:"label-style main-btn",children:"⚡️ Upload Resume"})]}),u&&(0,n.jsx)("p",{className:"error-message",children:u})]})},j=()=>{let[e,t]=(0,s.useState)(!1),[a,r]=(0,s.useState)(!1),[i,o]=(0,s.useState)(),[c,u]=(0,s.useState)({jobDescriptionText:"",interviewType:"",resumeText:"",payment:""});return(0,s.useEffect)(()=>{let e=async()=>{let e=y(c);await l({messages:[{role:"user",content:e}],setMessage:e=>o(e)})};a&&""!==c.resumeText&&void 0!==c.resumeText&&e().then(()=>{r(!1),t(!0)})},[c.resumeText]),(0,n.jsxs)("div",{className:"form-wrapper",children:[(0,n.jsx)("p",{className:"instructions-text",children:e?"Answer Bob's questions.":"Start the interview with Bob The Interviewer."}),e?(0,n.jsx)(g,{initialText:i,interviewData:c}):(0,n.jsxs)("div",{className:"request-form-wrapper",children:[(0,n.jsx)(w,{interviewData:c,setIsLoading:r,setInterviewData:u}),a&&(0,n.jsx)("div",{className:"loading-spinner"})]})]})};function b(){return(0,n.jsx)("main",{className:"App",children:(0,n.jsxs)("div",{className:"container",children:[(0,n.jsx)("div",{className:"logoBox",children:(0,n.jsx)(r.default,{src:"/logo.png",alt:"InterviewGPT logo",width:"400",height:"75"})}),(0,n.jsx)(j,{})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[356,441,517,358],()=>t(34480)),_N_E=e.O()}]);